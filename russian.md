# vue-cli-shop

Демонстрационное приложение, основанное на VueJS (Vue CLI). Реализует прототип витрины интернет-магазина.

## Установка проекта

```
npm install
```

### Сборка для разработки

```
npm run serve
```

### Сборка для продакшена

```
npm run build
```

## Вступление
В проекте изпользуются `vuex` для хранилища, `vue-router` для маршрутизации, `portal-vue` для создания модальных окон, `splidejs` для слайдера.

## Компоненты

Рассматриваем директорию /src

### Store

**Cart.js**  
Хранилище корзины - массив объектов 
```
{ 
    product: { 
        id:String, 
        name:String,
        price: Number
    }, // позиция (товар) в корзине
    quantity:Number // количество позиций (товара) в корзине
}
```

_getCartItems_ возвращает элементы корзины  
_getCartItemsCount_ возвращает количество позиций(элементов) в корзине  
_pushProductToCart(state, product)_ добавляет позицию  корзину
_removeFromCart(state, product)_ удаляет позицию из корзины
_incrementQuantity(state, product)_ увеличивает количество имеющегося товара в корзине на 1  
_decrementQuantity(state, product)_ уменьшает количество имеющегося товара в корзине на 1  
_addToCart({commit, state}, product)_ добавляет товар в корзину или увеличивает его количество  
_decrementQuantity({commit, state}, product)_ уменьшает количество товара или удаляет из корзины  

__Product.js__  
Хранит все товары полученные с сервера  

```
    products: [{
        id:String, 
        name:String, 
        description:String, 
        img:String, 
        price:Number
    }]
```

_getProducts_ геттер для products  
_isLoaded_ логический флаг, true когда товары загрузились в хранилище  
_setProducts_(state, products) сеттер для products

### Assets
Хранит медиа для клиента.
### Components
**Modal.vue**  
Универсальный компонент модального окна.  
Имеет три слота: title, body, footer.  
Генерирует событые `close` при нажатии на крестик или вне окна.

**Cart.vue**  
Компонент для отрисовки корзины.  
Получает данные из `store.cart`.  
Реализованы инструменты для удаления и изменения количества товара в `store.cart`.  
Использует `Modal.vue` для создания модального окна.

**Navigation.vue**  
Шапка сайта с кнопками навигации и корзины.  
Использует элемент `Cart.vue` для проброса с помощью `<portal>` в `<portal-target>` для модальных окон.

**ProductCard.vue**  
Компонент отображения карточки товара.  
Использует `Modal.vue` для создания модального окна.  
С помощью `props` получает объект аналогичный элементу из `store.product`.
Может добавить его в корзину с помощью `addToCart`.  
Генерирует событие `close` для закрытия модального окна.

### Views
Страницы приложения.  

**Main.vue**  
Получает товары из `store.product`.  
Испольует `<splide>` для создания слайдера с товарами.
При клике на товар отображает `ProductCard.vue` с помощью `<portal>`.
